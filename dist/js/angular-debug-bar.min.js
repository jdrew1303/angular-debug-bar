!function(n,e,t,i){"use strict";function o(){function o(n){n=n||[],f=c(f,n)}function r(n){l=parseInt(n,10)||l}function a(n,e,i){if(!t.isString(n)&&""!==n)throw new Error('Plugin name: "'+n+'" is not valid string value!');if(f[n])throw new Error('Plugin "'+n+'" already exists!');if(!t.isFunction(e))throw new Error("Value function is required!");if(i&&!t.isObject(i))throw new Error("Settings is not an object!");i=i?c(i,h):{},t.extend(i,{name:n});var o=function(){};o.prototype=new d,t.extend(o.prototype,{settings:t.extend(t.copy(h),i),invokeFn:e}),f[n]=new o}function s(n,e){var i;return{getPlugins:function(){return t.copy(f)},run:function(){function o(){e(function(){t.forEach(f,function(n){n.run()})},i?0:g)}i?n.cancel(i):o(),i=n(o,l)}}}function c(n,e){for(var t=-1,i=e.length,o={};++t<i;){var r=e[t];r in n&&(o[r]=n[r])}return o}s.$inject=["$interval","$timeout"];var u=this,l=1e3,g=100,f={},p=n.performance||n.msPerformance||n.webkitPerformance||n.mozPerformance,h=["label","icon","unit"],m=[{name:"watchCount",invokeFn:function(){var n=t.element(e.getElementsByTagName("html")),i=[],o=function(n){n.data().hasOwnProperty("$scope")&&t.forEach(n.data().$scope.$$watchers,function(n){i.push(n)}),t.forEach(n.children(),function(n){o(t.element(n))})};return 0===i.length&&o(n),i.length},settings:{label:"Watchers",icon:"adb-icon-eye"}},{name:"listenerCount",invokeFn:function(){var n=t.element(e.getElementsByTagName("html")),i=[],o=function(n){n.data().hasOwnProperty("$scope")&&t.forEach(n.data().$scope.$$listeners,function(n){i.push(n)}),t.forEach(n.children(),function(n){o(t.element(n))})};return 0===i.length&&o(n),i.length},settings:{label:"Listeners",icon:"adb-icon-headphones"}},{name:"DOMObjectCount",invokeFn:function(){return e.all.length},settings:{label:"DOM objects",icon:"adb-icon-home"}},{name:"loadTime",invokeFn:function(){return p.timing.loadEventStart-p.timing.navigationStart},settings:{label:"Load time",unit:"ms"}},{name:"latency",invokeFn:function(){return p.timing.responseStart-p.timing.connectStart},settings:{label:"Latency",unit:"ms"}},{name:"cssFilesCount",invokeFn:function(){return e.querySelectorAll('link[rel="stylesheet"]').length},settings:{label:"CSS files"}},{name:"jsFilesCount",invokeFn:function(){return e.querySelectorAll("script").length},settings:{label:"JS files"}},{name:"imagesCount",invokeFn:function(){return e.querySelectorAll("img").length},settings:{label:"Images"}},{name:"numberOfRequests",invokeFn:function(){return"getEntriesByType"in n.performance?n.performance.getEntriesByType("resource").length:"N/A"},settings:{label:"Number of requests"}}],d=function(){};t.extend(d.prototype,{extendedScope:i,settings:i,invokeFn:t.noop,setScope:function(n){Object.getPrototypeOf(this).extendedScope=n},getSettings:function(){return this.settings},run:function(){this.extendedScope[this.settings.name]=this.invokeFn()}}),function(){t.forEach(m,function(n){a(n.name,n.invokeFn,n.settings)})}(),u.clearDefaultPlugins=o,u.setRefreshInterval=r,u.registerPlugin=a,u.$get=s}function r(n){function e(e,o){t.forEach(e.plugins,function(t){t.setScope(e),o.append(n(i(t.getSettings()))(e))})}function i(n){var e='<li><div class="value-wrapper">';return n.icon&&(e+='<i class="'+n.icon+'"></i>'),e+='<span class="value" ng-bind="'+n.name+'"></span>',n.unit&&(e+='<span class="unit">'+n.unit+"</span>"),e+="</div>",n.label&&(e+='<h3 class="label">'+n.label+"</h3>"),e+"</li>"}return{restrict:"E",replace:!0,scope:!1,template:"<ul></ul>",link:e}}function a(e,t){function i(e){function i(){return!!o}var o=n.localStorage,r="adb.open";e.plugins={},e.show=!!i()&&JSON.parse(o.getItem(r)),e.show&&t.run(),e.showHide=function(n){n.preventDefault(),e.show=!e.show,i()&&o.setItem(r,e.show),e.show&&t.run()}}function o(n){var i=['<div id="angular-debug-bar" ng-class="{ \'show\': show }">','  <button class="adb-icon-cog" ng-click="showHide($event)"></button>',"  <angular-debug-bar-plugins></angular-debug-bar-plugins>","</div>"].join("");return function(o){o.plugins=t.getPlugins(),n.replaceWith(e(i)(o))}}return o.$inject=["$element"],i.$inject=["$scope"],{restrict:"E",replace:!0,scope:!0,controller:i,compile:o}}r.$inject=["$compile"],a.$inject=["$compile","debugBar"];var s=t.module("angular-debug-bar",[]);s.provider("debugBar",o),s.directive("angularDebugBarPlugins",r),s.directive("angularDebugBar",a)}(window,window.document,window.angular);